:root {
  --blue:#007bff;
  --blue-dark:#0056b3;
  --red:#dc3545;
  --red-dark:#c82333;
  --green:#28a745;
  --green-dark:#218838;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:system-ui,Arial,sans-serif;
  background:#f4f4f4;
  color:#333;
  padding:20px;
}
.container{
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:8px;
  box-shadow:0 2px 4px rgba(0,0,0,.1);
}
h1,h2,h3{color:var(--blue);margin-bottom:.4em}
.section{margin-bottom:2rem;border-bottom:1px solid #eee;padding-bottom:2rem}

label{display:block;margin:10px 0 5px;font-weight:700}
input,select,button{
  font:inherit;
  border-radius:4px;
}
input[type=text],
input[type=number],
input[type=date],
select{
  width:100%;
  padding:10px;
  border:1px solid #ccc;
  margin-bottom:10px;
}
select[multiple]{height:110px}
button{
  background:var(--blue);
  color:#fff;
  border:none;
  padding:10px 15px;
  cursor:pointer;
  margin:10px 10px 0 0;
}
button:hover{background:var(--blue-dark)}
button.remove{background:var(--red);padding:8px 12px}
button.remove:hover{background:var(--red-dark)}

.product-item{
  display:flex;
  gap:8px;
  align-items:center;
  margin-bottom:8px;
}
.product-item input{flex:1;margin-bottom:0}

.debt-item{
  background:#e9ecef;
  border:1px solid #dee2e6;
  border-radius:5px;
  padding:15px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:1rem;
}
.debt-item.archived{background:#f8f9fa;color:#6c757d}
.debt-item small{color:#666;font-style:italic}

.small-text{font-size:.8em;color:#666;margin:-5px 0 10px}
.hidden{display:none}

/* Modale */
dialog::backdrop{background:rgba(0,0,0,.45)}
dialog{
  border:none;
  border-radius:8px;
  padding:20px;
  max-width:90vw;
}

/* Paragony na ekranie - szerokość dopasowana */
#receiptModal,
#paymentConfirmModal{
  width: auto;
  min-width: 400px;
  max-width: 500px;
}

.modal-actions{text-align:center;margin-top:1rem}
.modal-actions button{margin:0 5px}

#paymentModal{
  width:300px;
  text-align:center;
}
#paymentModal h3{margin-bottom:1.5rem}
.payment-options{
  display:flex;
  gap:1rem;
  margin-bottom:1rem;
}
.payment-btn{
  flex:1;
  padding:20px;
  font-size:1.1rem;
  background:var(--green);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0.5rem;
}
.payment-btn:hover{background:var(--green-dark)}
.cancel-btn{
  background:var(--red);
  width:100%;
}
.cancel-btn:hover{background:var(--red-dark)}

/* Paragony na ekranie */
#receiptContent,
#paymentConfirmContent{
  font-family:'Courier New',monospace;
  white-space:pre;
  font-size:1em; /* Zmniejszona czcionka na ekranie */
  font-weight:bold;
  line-height:1.3;
  overflow-wrap: break-word;
  word-break: break-all;
}

/* KLUCZOWA SEKCJA - WYDRUK 80MM */
@media print{
  @page {
    size: 80mm auto; /* Szerokość 80mm, wysokość automatyczna */
    margin: 0; /* Bez marginesów strony */
  }
  
  body *{
    visibility:hidden;
  }
  
  dialog[open], 
  dialog[open] *{
    visibility:visible;
  }
  
  dialog{
    position:fixed !important;
    left:0 !important;
    top:0 !important;
    width:80mm !important;
    max-width:80mm !important;
    padding:0 !important;
    margin:0 !important;
    border:none !important;
    box-shadow:none !important;
  }
  
  #receiptContent,
  #paymentConfirmContent{
    width: 80mm !important;
    max-width: 80mm !important;
    font-family: 'Courier New', monospace !important;
    font-size: 11px !important; /* Mała czcionka dla 80mm */
    line-height: 1.2 !important;
    font-weight: normal !important;
    white-space: pre-wrap !important; /* Zawijanie długich linii */
    word-wrap: break-word !important;
    overflow: hidden !important; /* Bez scrollbarów */
    padding: 2mm !important;
    margin: 0 !important;
  }
  
  .modal-actions,
  button{
    display:none !important;
  }
}

@media(max-width:600px){
  .payment-options{flex-direction:column}
  dialog{width:95vw}
  #receiptModal,
  #paymentConfirmModal{
    width:95vw;
    min-width: unset;
  }
} 